/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_lis.c                                           :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: fdonati <fdonati@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/11/23 18:55:36 by fdonati           #+#    #+#             */
/*   Updated: 2023/11/28 15:15:58 by fdonati          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"

t_list	*ft_lis_build(t_list *node, t_list *lst)
{
	t_list	*lis_lst;
	t_list	*lis_lst_crcl;

	lis_lst = ft_lis_lin(node, ft_lstsize(node));
	if (lis_lst == NULL)
		return (NULL);
	lis_lst_crcl = ft_lis_crcl(lis_lst, lst);
	if (lis_lst_crcl != NULL)
	{
		ft_lstadd_front(&lis_lst, ft_lstlast(lis_lst_crcl));
		lis_lst = lis_lst_crcl;
	}
	return (lis_lst);
}

t_list	*ft_lis(t_list *lst)
{
	t_list	*lis_lst;
	t_list	*lis_lst_r;
	t_list	*node;
	size_t	min_lis;

	lis_lst_r = NULL;
	node = lst;
	min_lis = 2147483647;
	while (node != NULL)
	{
		if (min_lis >= ((t_data *) node->content)->index)
		{
			lis_lst = ft_lis_build(node, lst);
			if (ft_lstsize(lis_lst) > ft_lstsize(lis_lst_r))
			{
				ft_lstclean(&lis_lst_r);
				lis_lst_r = lis_lst;
			}
		}
		min_lis = ft_min_index(lis_lst_r);
		node = node->next;
	}
	return (lis_lst_r);
}

/*
int	main()
{
	t_list	*stack_a;
	t_list	*lis;
	t_list	*node;
	t_data	*data;
	size_t	arr_a[500] = { 328, 408, 370, 101, 27, 185, 209, 416, 291, 74, 464, 286, 411, 255, 468, 146, 482, 57, 417, 496, 338, 163, 273, 72, 24, 4, 500, 136, 208, 360, 305, 443, 495, 1, 52, 44, 29, 461, 238, 133, 430, 473, 100, 177, 339, 270, 292, 366, 54, 325, 431, 61, 216, 263, 231, 323, 375, 25, 254, 446, 445, 432, 268, 88, 441, 365, 394, 176, 302, 22, 465, 283, 45, 75, 84, 498, 169, 59, 352, 409, 142, 467, 335, 200, 235, 126, 168, 438, 462, 8, 293, 397, 68, 314, 387, 364, 214, 389, 253, 50, 330, 466, 332, 456, 147, 83, 122, 437, 66, 353, 490, 164, 356, 3, 324, 285, 223, 114, 297, 73, 77, 218, 38, 220, 489, 241, 140, 429, 92, 170, 162, 5, 276, 153, 139, 106, 155, 81, 181, 423, 191, 70, 256, 113, 380, 386, 104, 404, 239, 129, 226, 296, 470, 219, 198, 453, 407, 96, 91, 229, 41, 20, 99, 228, 245, 422, 10, 259, 244, 42, 149, 322, 127, 43, 40, 116, 451, 347, 425, 277, 156, 157, 171, 454, 307, 80, 420, 212, 124, 58, 138, 321, 287, 172, 152, 419, 82, 186, 207, 384, 418, 316, 193, 150, 252, 175, 484, 132, 392, 174, 476, 382, 107, 275, 158, 284, 188, 76, 398, 333, 78, 402, 19, 436, 26, 65, 349, 373, 160, 98, 359, 125, 346, 376, 242, 483, 49, 51, 282, 47, 267, 15, 250, 340, 310, 60, 195, 187, 31, 486, 351, 477, 35, 475, 105, 478, 128, 393, 459, 9, 421, 426, 334, 205, 2, 264, 137, 173, 111, 184, 108, 234, 134, 434, 272, 121, 354, 414, 197, 311, 210, 368, 372, 143, 18, 249, 23, 448, 281, 166, 350, 480, 336, 367, 213, 400, 289, 204, 117, 30, 401, 337, 120, 391, 7, 406, 371, 64, 14, 492, 388, 131, 410, 167, 413, 46, 471, 63, 499, 455, 93, 39, 85, 308, 460, 331, 141, 458, 119, 399, 201, 206, 312, 485, 262, 86, 280, 69, 269, 89, 257, 304, 109, 306, 37, 377, 144, 358, 16, 288, 192, 271, 479, 319, 491, 36, 449, 151, 199, 115, 28, 412, 202, 493, 309, 179, 95, 178, 427, 221, 182, 123, 357, 183, 415, 320, 457, 246, 258, 472, 439, 494, 300, 165, 379, 385, 361, 395, 326, 362, 278, 217, 103, 317, 442, 345, 487, 251, 348, 260, 161, 112, 33, 6, 327, 17, 463, 266, 274, 294, 11, 298, 369, 444, 295, 211, 53, 34, 343, 55, 32, 299, 79, 62, 13, 279, 315, 145, 261, 237, 189, 67, 148, 233, 301, 154, 243, 452, 488, 341, 110, 159, 225, 12, 435, 230, 378, 21, 424, 48, 180, 203, 190, 102, 90, 71, 265, 474, 232, 240, 383, 374, 97, 447, 318, 396, 405, 224, 227, 135, 342, 56, 344, 303, 497, 355, 248, 196, 381, 290, 433, 428, 194, 215, 469, 313, 130, 363, 329, 94, 236, 87, 118, 450, 390, 481, 247, 222, 440, 403 };
	int		i;

	stack_a = NULL;
	i = 0;
	while (i < 500)
	{
		data = malloc(sizeof(t_data));
		data->index = arr_a[i];
		data->value = arr_a[i];
		data->dist = 0;
		data->obm = NULL;
		ft_lstadd_back(&stack_a, ft_lstnew(data));
		i++;
	}
	lis = ft_lis(stack_a);
	node = lis;
	while (node != NULL)
	{
		printf("%zu ", (*(size_t *) node->content));
		node = node->next;
	}
	printf("\n");
	return (0);
}
*/
